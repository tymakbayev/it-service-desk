<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#2196f3" />
    <meta
      name="description"
      content="IT Service Desk - Web application for incident management and equipment tracking"
    />
    <meta name="author" content="IT Service Desk Team" />
    <meta name="keywords" content="IT, Service Desk, Incident Management, Equipment Tracking, Help Desk" />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <!--
      manifest.json provides metadata used when your web app is installed on a
      user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/
    -->
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <!--
      Notice the use of %PUBLIC_URL% in the tags above.
      It will be replaced with the URL of the `public` folder during the build.
      Only files inside the `public` folder can be referenced from the HTML.

      Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will
      work correctly both with client-side routing and a non-root public URL.
      Learn how to configure a non-root public URL by running `npm run build`.
    -->
    <!-- Preconnect to external resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    
    <!-- Load Google Fonts -->
    <link 
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Open+Sans:wght@400;600;700&display=swap" 
      rel="stylesheet"
    />
    
    <!-- Optional: Font Awesome for additional icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
      integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    
    <!-- Base styles to ensure consistent rendering -->
    <style>
      html, body {
        margin: 0;
        padding: 0;
        height: 100%;
        font-family: 'Roboto', 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', 
          'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        background-color: #f5f5f5;
      }
      
      #root {
        height: 100%;
        display: flex;
        flex-direction: column;
      }
      
      .app-loading {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100vh;
        background-color: #f5f5f5;
      }
      
      .app-loading-spinner {
        border: 4px solid rgba(0, 0, 0, 0.1);
        border-radius: 50%;
        border-top: 4px solid #2196f3;
        width: 40px;
        height: 40px;
        animation: spin 1s linear infinite;
        margin-bottom: 20px;
      }
      
      .app-loading-text {
        font-size: 18px;
        color: #333;
        font-weight: 500;
      }
      
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      
      /* Ensure no FOUC (Flash of Unstyled Content) */
      .hidden {
        display: none !important;
      }
    </style>
    
    <title>IT Service Desk</title>
  </head>
  <body>
    <noscript>
      <div style="padding: 20px; text-align: center; font-family: sans-serif;">
        <h2>JavaScript Required</h2>
        <p>You need to enable JavaScript to run this app.</p>
        <p>IT Service Desk is a modern web application that requires JavaScript to function properly.</p>
      </div>
    </noscript>
    <div id="root">
      <!-- Initial loading state before React renders -->
      <div class="app-loading">
        <div class="app-loading-spinner"></div>
        <div class="app-loading-text">Loading IT Service Desk...</div>
      </div>
    </div>
    
    <!-- Modal root for portal-based modals -->
    <div id="modal-root"></div>
    
    <!-- Toast notifications container -->
    <div id="toast-root"></div>
    
    <!--
      This HTML file is a template.
      If you open it directly in the browser, you will see an empty page.

      You can add webfonts, meta tags, or analytics to this file.
      The build step will place the bundled scripts into the <body> tag.

      To begin the development, run `npm start` or `yarn start`.
      To create a production bundle, use `npm run build` or `yarn build`.
    -->
    
    <!-- Browser compatibility check -->
    <script>
      // Check for older browsers and show warning if needed
      (function() {
        try {
          // Check for ES6 features
          eval('let test = () => {}; const obj = { ...{} }; class TestClass {}');
        } catch (e) {
          document.getElementById('root').innerHTML = `
            <div style="padding: 20px; max-width: 600px; margin: 50px auto; text-align: center; font-family: sans-serif;">
              <h2>Unsupported Browser</h2>
              <p>You are using an outdated browser that is not supported by IT Service Desk.</p>
              <p>Please update to a modern browser such as Chrome, Firefox, Safari, or Edge.</p>
            </div>
          `;
        }
      })();
    </script>
  </body>
</html>